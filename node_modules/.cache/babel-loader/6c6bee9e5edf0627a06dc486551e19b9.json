{"ast":null,"code":"// Generated by CoffeeScript 1.6.3\n(function () {\n  module.exports = function (_arg) {\n    var active, notifier, run;\n    notifier = _arg.notifier, active = _arg.active, run = _arg.run;\n    return function (func, cb) {\n      var iter, mon, stopped, stopper;\n      mon = null;\n      stopped = false;\n\n      stopper = function () {\n        stopped = true;\n        return mon != null ? mon.removeListener('change', iter) : void 0;\n      };\n\n      (iter = function () {\n        var r;\n\n        if (!stopped) {\n          r = run(func);\n\n          if (typeof cb === \"function\") {\n            cb(r.error, r.result, r.monitor, stopper);\n          }\n\n          mon = r.monitor;\n          return mon != null ? mon.once('change', iter) : void 0;\n        }\n      })();\n      return stopper;\n    };\n  };\n}).call(this);","map":null,"metadata":{},"sourceType":"script"}