{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lianne\\\\mygit\\\\family_acestry_folder\\\\familyancestry-wBloodlines\\\\src\\\\frontend\\\\GraphOnly.js\";\n// Modules\nimport React, { useState } from \"react\";\nimport { parse, d3ize } from 'gedcom-d3'; // Components\n\nimport Controls from './Controls';\nimport Graph from './Graph'; // Style\n\nimport './sass/style.scss'; // GEDOM files\n\nimport halflingFile from '../gedcoms/My-Family-7-Dec-2020-352.ged';\n\nconst Graph3d = () => {\n  const [showingRoots, setShowingRoots] = useState(false);\n  const [d3Data, setD3Data] = useState([]);\n  const [showError, setShowError] = useState(false);\n  const [timelineShowing, setTimelineShowing] = useState(false);\n  const [highlightedFamily, setHighlightedFamily] = useState();\n\n  const readFile = file => {\n    setD3Data(d3ize(parse(file))); // Parse data\n\n    setShowingRoots(true);\n    setShowError(false);\n  };\n\n  const closeRoots = () => {\n    setShowingRoots(false);\n    setHighlightedFamily();\n    setD3Data([]);\n  };\n\n  const handleUpload = event => {\n    const file = event.target.files[0];\n    const parts = file.name.split('.');\n    const reader = new FileReader(file);\n\n    if (parts[parts.length - 1].toLowerCase() === 'ged') {\n      reader.onloadend = () => {\n        readFile(reader.result);\n      };\n\n      reader.readAsText(file);\n    } else {\n      reader.readAsText(file);\n      setShowError(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Controls, {\n    d3Data: d3Data,\n    closeRoots: closeRoots,\n    setTimelineShowing: setTimelineShowing,\n    highlightedFamily: highlightedFamily,\n    setHighlightedFamily: setHighlightedFamily,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Graph, {\n    d3Data: d3Data,\n    highlightedFamily: highlightedFamily,\n    setHighlightedFamily: setHighlightedFamily,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Graph3d;","map":{"version":3,"sources":["C:/Users/lianne/mygit/family_acestry_folder/familyancestry-wBloodlines/src/frontend/GraphOnly.js"],"names":["React","useState","parse","d3ize","Controls","Graph","halflingFile","Graph3d","showingRoots","setShowingRoots","d3Data","setD3Data","showError","setShowError","timelineShowing","setTimelineShowing","highlightedFamily","setHighlightedFamily","readFile","file","closeRoots","handleUpload","event","target","files","parts","name","split","reader","FileReader","length","toLowerCase","onloadend","result","readAsText"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,WAA7B,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,OAAO,mBAAP,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,yCAAzB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAEpB,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCd,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACe,iBAAD,EAAoBC,oBAApB,IAA4ChB,QAAQ,EAA1D;;AAEA,QAAMiB,QAAQ,GAAGC,IAAI,IAAI;AACvBR,IAAAA,SAAS,CAACR,KAAK,CAACD,KAAK,CAACiB,IAAD,CAAN,CAAN,CAAT,CADuB,CACS;;AAChCV,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAI,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAJD;;AAMA,QAAMO,UAAU,GAAG,MAAM;AACvBX,IAAAA,eAAe,CAAC,KAAD,CAAf;AACAQ,IAAAA,oBAAoB;AACpBN,IAAAA,SAAS,CAAC,EAAD,CAAT;AACD,GAJD;;AAMA,QAAMU,YAAY,GAAGC,KAAK,IAAI;AAC5B,UAAMH,IAAI,GAAGG,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;AACA,UAAMC,KAAK,GAAGN,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgB,GAAhB,CAAd;AACA,UAAMC,MAAM,GAAG,IAAIC,UAAJ,CAAeV,IAAf,CAAf;;AAEA,QAAIM,KAAK,CAACA,KAAK,CAACK,MAAN,GAAc,CAAf,CAAL,CAAuBC,WAAvB,OAAyC,KAA7C,EAAoD;AAClDH,MAAAA,MAAM,CAACI,SAAP,GAAmB,MAAM;AACvBd,QAAAA,QAAQ,CAACU,MAAM,CAACK,MAAR,CAAR;AACD,OAFD;;AAGAL,MAAAA,MAAM,CAACM,UAAP,CAAkBf,IAAlB;AACD,KALD,MAKO;AACLS,MAAAA,MAAM,CAACM,UAAP,CAAkBf,IAAlB;AACAN,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,GAdD;;AAgBA,sBACE,uDACE,oBAAC,QAAD;AACE,IAAA,MAAM,EAAEH,MADV;AAEE,IAAA,UAAU,EAAEU,UAFd;AAGE,IAAA,kBAAkB,EAAEL,kBAHtB;AAIE,IAAA,iBAAiB,EAAEC,iBAJrB;AAKE,IAAA,oBAAoB,EAAEC,oBALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE,oBAAC,KAAD;AACE,IAAA,MAAM,EAAEP,MADV;AAEE,IAAA,iBAAiB,EAAEM,iBAFrB;AAGE,IAAA,oBAAoB,EAAEC,oBAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAgBD,CApDD;;AAsDA,eAAeV,OAAf","sourcesContent":["// Modules\r\nimport React, { useState } from \"react\";\r\nimport { parse, d3ize } from 'gedcom-d3';\r\n\r\n// Components\r\nimport Controls from './Controls';\r\nimport Graph from './Graph';\r\n\r\n// Style\r\nimport './sass/style.scss';\r\n\r\n// GEDOM files\r\nimport halflingFile from '../gedcoms/My-Family-7-Dec-2020-352.ged';\r\n\r\nconst Graph3d = () => {\r\n\r\n  const [showingRoots, setShowingRoots] = useState(false);\r\n  const [d3Data, setD3Data] = useState([]);\r\n  const [showError, setShowError] = useState(false);\r\n  const [timelineShowing, setTimelineShowing] = useState(false);\r\n  const [highlightedFamily, setHighlightedFamily] = useState();\r\n\r\n  const readFile = file => {\r\n    setD3Data(d3ize(parse(file)));  // Parse data\r\n    setShowingRoots(true);\r\n    setShowError(false);\r\n  }\r\n\r\n  const closeRoots = () => {\r\n    setShowingRoots(false);\r\n    setHighlightedFamily();\r\n    setD3Data([]);\r\n  }\r\n\r\n  const handleUpload = event => {\r\n    const file = event.target.files[0];\r\n    const parts = file.name.split('.');\r\n    const reader = new FileReader(file);\r\n\r\n    if (parts[parts.length -1].toLowerCase() === 'ged') {\r\n      reader.onloadend = () => {\r\n        readFile(reader.result);\r\n      }\r\n      reader.readAsText(file);\r\n    } else {\r\n      reader.readAsText(file);\r\n      setShowError(true);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Controls\r\n        d3Data={d3Data}\r\n        closeRoots={closeRoots}\r\n        setTimelineShowing={setTimelineShowing}\r\n        highlightedFamily={highlightedFamily}\r\n        setHighlightedFamily={setHighlightedFamily}\r\n      />\r\n      <Graph\r\n        d3Data={d3Data}\r\n        highlightedFamily={highlightedFamily}\r\n        setHighlightedFamily={setHighlightedFamily}\r\n      />      \r\n    </>\r\n  )\r\n}\r\n\r\nexport default Graph3d\r\n"]},"metadata":{},"sourceType":"module"}