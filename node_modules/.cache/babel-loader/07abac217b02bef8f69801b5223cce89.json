{"ast":null,"code":"import { relToNode } from '../utils';\n\nconst createRel = (id, type = 'blood') => ({\n  id,\n  type\n});\n\nconst createNode = gender => ({\n  id: \"\".concat(gender, \"-placeholder\"),\n  placeholder: true,\n  gender: gender,\n  parents: [],\n  siblings: [],\n  spouses: [],\n  children: []\n});\n\nconst createParents = (store, root) => {\n  const father = createNode('male');\n  const mother = createNode('female');\n  father.spouses = [createRel(mother.id, 'married')];\n  mother.spouses = [createRel(father.id, 'married')];\n  return [father, mother].map(node => {\n    node.children = root.siblings.concat(createRel(root.id));\n    store.nodes.set(node.id, node);\n    return createRel(node.id);\n  });\n};\n\nconst setParents = parents => node => node.parents = parents.slice();\n\nexport default (store => {\n  if (store.rootNode.parents.length) return store;\n  const root = store.rootNode;\n  const setParentsTo = setParents(createParents(store, root));\n  setParentsTo(root);\n  root.siblings.map(relToNode(store)).forEach(setParentsTo);\n  return store;\n});","map":null,"metadata":{},"sourceType":"module"}